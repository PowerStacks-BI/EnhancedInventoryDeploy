{
  "$schema": "https://schema.management.azure.com/schemas/2019-04-01/uiDefinition.json#",
  "handler": "Microsoft.Azure.CreateUIDef",
  "version": "1.0.0",
  "parameters": {
    "basics": [
      {
        "name": "workspaceMode",
        "type": "Microsoft.Common.DropDown",
        "label": "Log Analytics workspace",
        "defaultValue": "CreateNew",
        "constraints": {
          "allowedValues": [
            { "label": "Create a new workspace", "value": "CreateNew" },
            { "label": "Use an existing workspace (e.g. WUfB Reports)", "value": "UseExisting" }
          ]
        }
      },
      {
        "name": "newWorkspaceName",
        "type": "Microsoft.Common.TextBox",
        "label": "New workspace name",
        "defaultValue": "law-PowerStacksEnhancedInventory",
        "constraints": { "required": true },
        "visible": "[equals(basics('workspaceMode'), 'CreateNew')]"
      },
      {
        "name": "existingWorkspaceResourceGroup",
        "type": "Microsoft.Common.TextBox",
        "label": "Existing workspace resource group name",
        "toolTip": "Resource group that contains the existing Log Analytics workspace.",
        "constraints": { "required": true },
        "visible": "[equals(basics('workspaceMode'), 'UseExisting')]"
      },
      {
        "name": "existingWorkspaceName",
        "type": "Microsoft.Common.TextBox",
        "label": "Existing workspace name",
        "toolTip": "Name of the existing Log Analytics workspace (for example, WUfB workspace name).",
        "constraints": { "required": true },
        "visible": "[equals(basics('workspaceMode'), 'UseExisting')]"
      }
    ],
    "outputs": {
      "workspaceMode": "[basics('workspaceMode')]",
      "newWorkspaceName": "[basics('newWorkspaceName')]",
      "existingWorkspaceSubscriptionId": "[subscription().subscriptionId]",
      "existingWorkspaceResourceGroup": "[basics('existingWorkspaceResourceGroup')]",
      "existingWorkspaceName": "[basics('existingWorkspaceName')]"
    }
  }
}
